{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonForm.js","components/Notification.js","services/PhoneBook.js","App.js","index.js"],"names":["Filter","text","filter","handler","value","onChange","Person","person","DeletePerson","name","number","onClick","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","console","log","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","Message","setMessage","useEffect","PhoneBookService","length","PersonsToShow","toLowerCase","indexOf","event","target","preventDefault","newPerson","map","window","confirm","find","updated","catch","error","setTimeout","n","ServerNewPerson","concat","i","deleted","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8085711b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ text, filter, handler}) => {\r\n  return (\r\n    <div>{text}<input value={filter} onChange={handler}/></div>\r\n  )\r\n}\r\n\r\n  export default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, DeletePerson }) => {\r\n\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} \r\n      <button onClick={DeletePerson}>{'delete'}</button>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\n\r\nconst PersonForm = ({ addName, newName, handleNameChange, newNumber, handleNumberChange }) => {\r\n    return (\r\n      <form onSubmit={addName}>\r\n          <div>\r\n            name: <input value={newName} \r\n            onChange={handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: <input value={newNumber} \r\n            onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\nconsole.log('message: ', message)\r\n\r\n    const NotificationStyle = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const ErrorStyle = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n\r\n    if (message.message === null) {\r\n      return null\r\n    }\r\n  \r\n    return (\r\n      <div style = {message.style ? NotificationStyle: ErrorStyle}>\r\n        {message.message}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  export default Notification","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport Person from './components/Person'\r\nimport PersonForm from './components/PersonForm'\r\n//import PersonsToShow from './components/PersonsToShow'\r\nimport Notification from './components/Notification'\r\nimport PhoneBookService from './services/PhoneBook'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [Message, setMessage] = useState({message: null, style: true})\r\n\r\n  useEffect(() => {\r\n    console.log('effect')\r\n    PhoneBookService\r\n      .getAll()\r\n      .then(persons => {\r\n        setPersons(persons)\r\n      })\r\n  }, [])\r\n\r\n  console.log('render', persons.length, 'persons')\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    const newPerson = {\r\n          name: newName,\r\n          number: newNumber\r\n    }\r\n\r\n    if (persons.map(person => person.name).indexOf(newName)!==-1) {\r\n        console.log('Nimi oli jo: ', newName)\r\n        if (window.confirm(`${newName} is already added to phonebook, replace the older number with a new one?`)) {\r\n          PhoneBookService\r\n            .update(persons.find(person => person.name === newName).id, newPerson)\r\n            .then(updated => {\r\n              setPersons(persons.map(person => person.name !== newName ? person : updated))\r\n            })\r\n            .catch(error => {\r\n              setMessage({message: `Information of ${newName} has already been removed from server`, style: false})\r\n              setTimeout(() => {\r\n                setMessage({message: null, style: true})\r\n              }, 3000)\r\n              setPersons(persons.filter(n => n.name !== newName))\r\n            })\r\n          setMessage({message: `Updated ${newName}`, style: true})\r\n          setTimeout(() => {\r\n            setMessage({message: null, style: true})\r\n          }, 3000)\r\n        }\r\n        setNewName('')\r\n        setNewNumber('')\r\n    } else {\r\n        console.log('Lisätään uusi nimi: ', newName)\r\n        PhoneBookService\r\n          .create(newPerson)\r\n          .then(ServerNewPerson => {\r\n            setPersons(persons.concat(ServerNewPerson))\r\n          })\r\n        console.log('persons: ', persons)\r\n        setMessage({message: `Added ${newName}`, style: true})\r\n        setTimeout(() => {\r\n          setMessage({message: null, style: true})\r\n        }, 3000)\r\n        setNewName('')\r\n        setNewNumber('')\r\n    }\r\n\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    console.log(event.target.value)\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const handleFilterChange = (event) => {\r\n    console.log(event.target.value)\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const PersonsToShow = \r\n    persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1)\r\n  \r\n\r\n  const DeletePerson = (id) => {\r\n\r\n    if (window.confirm(`Delete ${persons.find(person => person.id === id).name}?`)) {\r\n      PhoneBookService\r\n        .remove(id)\r\n        .then(deleted => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n        })\r\n      setMessage({message: `Deleted ${newName}`, style: true})\r\n      setTimeout(() => {\r\n        setMessage({message: null, style: true})\r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={Message} />\r\n      <Filter text = 'filter shown with ' filter = {filter} handler = {handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm addName = {addName} newName = {newName} handleNameChange = {handleNameChange} \r\n        newNumber = {newNumber} handleNumberChange = {handleNumberChange} />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        {PersonsToShow.map((person, i) => \r\n          <Person\r\n            key = {i}\r\n            person = {person}\r\n            DeletePerson = {() => DeletePerson(person.id)}\r\n          />\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))\n\n"],"sourceRoot":""}